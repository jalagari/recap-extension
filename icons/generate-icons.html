<!DOCTYPE html>
<html>
<head>
  <title>Recap Icon Generator</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      padding: 40px;
      max-width: 800px;
      margin: 0 auto;
    }
    canvas {
      border: 1px solid #ddd;
      margin: 10px;
    }
    .icon-set {
      display: flex;
      gap: 20px;
      margin: 20px 0;
    }
    button {
      padding: 10px 20px;
      background: #0ea5e9;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
    }
    button:hover {
      background: #0284c7;
    }
  </style>
</head>
<body>
  <h1>Recap Extension Icon Generator</h1>
  <p>This will generate PNG icons from the SVG. Right-click each canvas and "Save image as..." to save the icons.</p>
  
  <div class="icon-set">
    <div>
      <h3>16x16</h3>
      <canvas id="icon16" width="16" height="16"></canvas>
      <button onclick="download('icon16', 'icon16.png')">Download</button>
    </div>
    <div>
      <h3>48x48</h3>
      <canvas id="icon48" width="48" height="48"></canvas>
      <button onclick="download('icon48', 'icon48.png')">Download</button>
    </div>
    <div>
      <h3>128x128</h3>
      <canvas id="icon128" width="128" height="128"></canvas>
      <button onclick="download('icon128', 'icon128.png')">Download</button>
    </div>
  </div>

  <script>
    const svg = `<svg width="128" height="128" viewBox="0 0 128 128" fill="none" xmlns="http://www.w3.org/2000/svg">
      <circle cx="64" cy="64" r="60" fill="url(#gradient)"/>
      <circle cx="64" cy="64" r="20" fill="white" opacity="0.95"/>
      <circle cx="64" cy="64" r="8" fill="#0ea5e9"/>
      <defs>
        <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#0ea5e9;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#06b6d4;stop-opacity:1" />
        </linearGradient>
      </defs>
    </svg>`;

    function renderIcon(canvasId, size) {
      const canvas = document.getElementById(canvasId);
      const ctx = canvas.getContext('2d');
      const img = new Image();
      const svgBlob = new Blob([svg], {type: 'image/svg+xml'});
      const url = URL.createObjectURL(svgBlob);
      
      img.onload = function() {
        ctx.clearRect(0, 0, size, size);
        ctx.drawImage(img, 0, 0, size, size);
        URL.revokeObjectURL(url);
      };
      img.src = url;
    }

    function download(canvasId, filename) {
      const canvas = document.getElementById(canvasId);
      const link = document.createElement('a');
      link.download = filename;
      link.href = canvas.toDataURL('image/png');
      link.click();
    }

    // Render all icons on load
    window.onload = function() {
      renderIcon('icon16', 16);
      renderIcon('icon48', 48);
      renderIcon('icon128', 128);
    };
  </script>
</body>
</html>
